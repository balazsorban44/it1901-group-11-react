<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">src/App.js | it1901-group-11</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/App.js~App.html">App</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-band">components/Band</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Band/Concerts.jsx~Concerts.html">Concerts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Band/Reviews.jsx~AddReview.html">AddReview</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Band/TechnicalRequirements.jsx~TechnicalRequirements.html">TechnicalRequirements</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Band/index.js~Band.html">Band</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Reviews">Reviews</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-bookingboss">components/BookingBoss</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/BookingBoss/Bookings.jsx~Bookings.html">Bookings</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/BookingBoss/index.js~BookingBoss.html">BookingBoss</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Booking">Booking</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-bookingmanager">components/BookingManager</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/BookingManager/BookingStepper.jsx~VerticalLinearStepper.html">VerticalLinearStepper</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/BookingManager/NewBooking.jsx~NewBooking.html">NewBooking</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/BookingManager/Search.jsx~Search.html">Search</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/BookingManager/index.js~BookingManager.html">BookingManager</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-login">components/Login</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Login/index.jsx~Login.html">Login</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-manager">components/Manager</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Manager/index.js~Manager.html">Manager</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-organizer">components/Organizer</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Organizer/index.js~Organizer.html">Organizer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-EventInfo">EventInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ScenesList">ScenesList</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-prorganizer">components/PROrganizer</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/PROrganizer/index.js~PROrganizer.html">PROrganizer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ScenesList">ScenesList</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-servicemanager">components/ServiceManager</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/ServiceManager/index.js~ServiceManager.html">ServiceManager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Scenes">Scenes</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-technician">components/Technician</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Technician/index.js~Technician.html">Technician</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Concerts">Concerts</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#utils">utils</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Icon">Icon</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-InfoSnippet">InfoSnippet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Loading">Loading</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-NoResult">NoResult</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Rating">Rating</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Review">Review</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-capitalize">capitalize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-parseDate">parseDate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-parseNumber">parseNumber</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-parsePrice">parsePrice</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-parseTime">parseTime</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-muiTheme">muiTheme</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-profiles">profiles</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/App.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import React, { Component } from &apos;react&apos;

import firebase from &apos;firebase&apos;
import Login from &apos;./components/Login&apos;

import Organizer from &apos;./components/Organizer&apos;
import PROrganizer from &apos;./components/PROrganizer&apos;
import BookingBoss from &apos;./components/BookingBoss&apos;
import BookingManager from &apos;./components/BookingManager&apos;
import Technician from &apos;./components/Technician&apos;
import Manager from &apos;./components/Manager&apos;
import ServiceManager from &apos;./components/ServiceManager&apos;

import MuiThemeProvider from &apos;material-ui/styles/MuiThemeProvider&apos;
import AppBar from &apos;material-ui/AppBar&apos;
import SelectField from &apos;material-ui/SelectField&apos;
import MenuItem from &apos;material-ui/MenuItem&apos;
import TextField from &apos;material-ui/TextField&apos;

import RaisedButton from &apos;material-ui/RaisedButton&apos;
import Avatar from &apos;material-ui/Avatar&apos;

import {profiles, muiTheme} from &apos;./utils&apos;


/**
 * This is the main component
 */
export default class App extends Component {

  /**
  * App constructor
  */
  constructor() {
    super()
    /**
    * @type {Object} state
    * @property {Object} state.user - The logged in user
    * @property {String} state.loggedin - The logged in user&apos;s e-mail
    * @property {Boolean} state.isDrawerOpened - Is the left menu opened
    */
    this.state = {
      user: null,
      loggedin: &quot;joe@org.com&quot;,
      isDrawerOpened: false
    }
  }

  /**
    * @deprecated Toggle the menu on the left side
    
    */
  toggleDrawer = () =&gt; this.setState(({isDrawerOpened}) =&gt; ({isDrawerOpened: !isDrawerOpened}))

  /**
  * Log the clicked user in.
  * @param {Object} event - event object of the clicked element
  * @param {number} index - the index of the clicked user
  * @param {String} value - the e-mail of the clicked user
  
  */
  login = (event, index, value) =&gt; {
    this.setState({loggedin: value})
    this.logout()
    firebase.auth().signInWithEmailAndPassword(value, &quot;123456&quot;)
  }

  /**
  * Log out the user
  
  */
  logout() {
    firebase.auth().signOut()
      .then(() =&gt; {
        this.setState({user: null})
      })
  }

  /**
  * Set up a listener to authentication changes.
  
  */
  componentDidMount() {
    firebase.auth().onAuthStateChanged((user) =&gt; {
      if (user) {
        const {uid} = user
        const db = firebase.database().ref(`staff/profiles/${uid}`)
        db.on(&apos;value&apos;, snap =&gt; {
          this.setState({user: Object.assign(snap.val(), {uid})})
        })
      }
    })
  }

  /**
  * Display the logged in users subpage, and a top bar.
  * @return {JSX} Return rendered App component
  */
  render() {
    const {user, isDrawerOpened, loggedin} = this.state
    return (
      &lt;div className=&quot;App&quot;&gt;
        &lt;MuiThemeProvider muiTheme={muiTheme}&gt;
          &lt;div&gt;
            {!user ?
              &lt;Login/&gt;:
              &lt;div&gt;

                &lt;AppBar onLeftIconButtonTouchTap={() =&gt; this.toggleDrawer()}&gt;
                  &lt;TextField value={loggedin}/&gt;
                  &lt;SelectField value={loggedin} onChange={this.login}&gt;
                    &lt;MenuItem value=&quot;joe@org.com&quot;&gt;&lt;Profile name=&quot;Joe&quot; img=&quot;joe&quot;/&gt;&lt;/MenuItem&gt;
                    &lt;MenuItem value=&quot;jane@boob.com&quot;&gt;&lt;Profile name=&quot;Jane&quot; img=&quot;jane&quot;/&gt;&lt;/MenuItem&gt;
                    &lt;MenuItem value=&quot;jessica@boom.com&quot;&gt;&lt;Profile name=&quot;Jessica&quot; img=&quot;jessica&quot;/&gt;&lt;/MenuItem&gt;
                    &lt;MenuItem value=&quot;james@man.com&quot;&gt;&lt;Profile name=&quot;James&quot; img=&quot;james&quot;/&gt;&lt;/MenuItem&gt;
                    &lt;MenuItem value=&quot;jack@tech.com&quot;&gt;&lt;Profile name=&quot;Jack&quot; img=&quot;jack&quot;/&gt;&lt;/MenuItem&gt;
                    &lt;MenuItem value=&quot;jamie@ser.com&quot;&gt;&lt;Profile name=&quot;Jamie&quot; img=&quot;jamie&quot;/&gt;&lt;/MenuItem&gt;
                    &lt;MenuItem value=&quot;frank@pro.com&quot;&gt;&lt;Profile name=&quot;Frank&quot; img=&quot;frank&quot;/&gt;&lt;/MenuItem&gt;
                    &lt;MenuItem value=&quot;&quot;&gt;&lt;RaisedButton secondary label=&quot;Logout&quot;/&gt;&lt;/MenuItem&gt;
                  &lt;/SelectField&gt;
                &lt;/AppBar&gt;
                {{
                  &quot;organizer&quot;:
                  &lt;Organizer {...{user, isDrawerOpened}} toggleDrawer={this.toggleDrawer}/&gt;,
                  &quot;PROrganizer&quot;:
                  &lt;PROrganizer {...{user, isDrawerOpened}} toggleDrawer={this.toggleDrawer}/&gt;,
                  &quot;bookingBoss&quot;:
                  &lt;BookingBoss {...{user, isDrawerOpened}} toggleDrawer={this.toggleDrawer}/&gt;,
                  &quot;bookingManager&quot;:
                  &lt;BookingManager {...{user, isDrawerOpened}} toggleDrawer={this.toggleDrawer}/&gt;,
                  &quot;technician&quot;:
                  &lt;Technician {...{user, isDrawerOpened}} toggleDrawer={this.toggleDrawer}/&gt;,
                  &quot;serviceManager&quot;:
                  &lt;ServiceManager {...{user, isDrawerOpened}} toggleDrawer={this.toggleDrawer}/&gt;,
                  &quot;manager&quot;:
                  &lt;Manager {...{user, isDrawerOpened}} toggleDrawer={this.toggleDrawer}/&gt;
                }[user.role]}
              &lt;/div&gt;
            }
          &lt;/div&gt;
        &lt;/MuiThemeProvider&gt;
        &lt;Footer/&gt;
      &lt;/div&gt;
    )
  }
}

/**
  * Display Footer component
  * @return {JSX} Return a static footer
  */
const Footer = () =&gt; (
  &lt;footer className=&quot;mdl-mega-footer&quot;&gt;
    &lt;div className=&quot;mdl-mega-footer__middle-section&quot;&gt;

      &lt;div className=&quot;mdl-mega-footer__drop-down-section&quot;&gt;
        &lt;h1 className=&quot;mdl-mega-footer__heading&quot;&gt;Documentation&lt;i className=&quot;material-icons&quot;&gt;insert_drive_file&lt;/i&gt;&lt;/h1&gt;
        &lt;ul className=&quot;mdl-mega-footer__link-list&quot;&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://github.com/balazsorban44/it1901-group-11-react&quot;&gt;GitHub&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://trello.com/b/AO4STf0n/it1901-prosjekt&quot;&gt;Trello&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;

      &lt;div className=&quot;mdl-mega-footer__drop-down-section&quot;&gt;
        &lt;h1 className=&quot;mdl-mega-footer__heading&quot;&gt;Technology&lt;i className=&quot;material-icons&quot;&gt;build&lt;/i&gt;&lt;/h1&gt;
        &lt;ul className=&quot;mdl-mega-footer__link-list&quot;&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://reactjs.org/&quot;&gt;ReactJS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://firebase.google.com&quot;&gt;Google Firebase&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;

      &lt;div className=&quot;mdl-mega-footer__drop-down-section&quot;&gt;
        &lt;h1 className=&quot;mdl-mega-footer__heading&quot;&gt;External libraries&lt;i className=&quot;material-icons&quot;&gt;library_books&lt;/i&gt;&lt;/h1&gt;
        &lt;ul className=&quot;mdl-mega-footer__link-list&quot;&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;http://www.material-ui.com&quot;&gt;Material-UI&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://getmdl.io/&quot;&gt;Material Design Lite&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;

      &lt;div className=&quot;mdl-mega-footer__drop-down-section&quot;&gt;
        &lt;h1 className=&quot;mdl-mega-footer__heading&quot;&gt;Team&lt;i className=&quot;material-icons&quot;&gt;people&lt;/i&gt;&lt;/h1&gt;
        &lt;ul className=&quot;mdl-mega-footer__link-list&quot;&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://balazsorban.com&quot;&gt;Bal&#xE1;zs Orb&#xE1;n&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://github.com/supertosse&quot;&gt;Stian T&#xF8;sse&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://github.com/matsjp&quot;&gt;Mats Pedersen&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://github.com/AleksanderKarlsson&quot;&gt;Aleksander Karlsson&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://github.com/Hxnsa&quot;&gt;Erik Kr&#xFC;ger&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;

    &lt;/div&gt;

    &lt;div className=&quot;mdl-mega-footer__bottom-section&quot;&gt;
      &lt;div className=&quot;mdl-logo&quot;&gt;&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://eventmanager.netlify.com&quot;&gt;Event Manager&lt;/a&gt;&lt;/div&gt;
      &lt;ul className=&quot;mdl-mega-footer__link-list&quot;&gt;
        &lt;li&gt;Made with &#x2764; at &lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://ntnu.edu&quot;&gt;NTNU&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;IT1901&lt;/li&gt;
        &lt;li&gt;Group 11&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/footer&gt;
)


/**
  * A little snippet to show the logged in user&apos;s profile picture and name
  * @param {Object} props
  * @param {Object} props.name - Name of the user
  * @param {Object} props.img - Image path of the user
  */
const Profile = ({name, img}) =&gt; (
  &lt;div className=&quot;user-info&quot;&gt;
    &lt;h2&gt;{name}&lt;/h2&gt;
    &lt;Avatar src={profiles(`./${img}.jpg`)}/&gt;
  &lt;/div&gt;
)
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
